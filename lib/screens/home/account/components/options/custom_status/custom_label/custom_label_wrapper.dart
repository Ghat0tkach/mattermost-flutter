// Dart code as converted above